<!DOCTYPE html>

<html>
    
<head>

<title>CMPSC185 PA2 Junyi Du</title>

<link rel="stylesheet" href="style.css" >


</head>

<body>

<div class="topnav">
  <a href="index.html">Text</a>
  <a href="image.html">Image</a>
  <a class="active" href="video.html">Video</a>
  <a href="table.html">Table</a>
  <a href="email.html">Email</a>
</div>

    <div class='modal'>
        <span class='close'>&times;</span>
        <video class='modal-content' controls>
          <div class='modal-center'><source src='' type='video/mp4'></div>
        </video>
      </div>

<!---
<div class="grid-container">
    <div class="grid-content">
        <video width="320" height="180" controls>
            <source src="v1.mp4" type="video/mp4">
        </video>
    </div>
    <div class="grid-content">
        <video width="320" height="180" controls>
            <source src="v2.mp4" type="video/mp4">
        </video>
    </div>
    <div class="grid-content">
        <video width="320" height="180" controls>
            <source src="v3.mp4" type="video/mp4">
        </video>
    </div>
    <div class="grid-content">
        <video width="320" height="180" controls>
            <source src="v4.mp4" type="video/mp4">
        </video>
    </div>
</div>
-->


<div class="watch">
    <video class="aka" width="300px" height="200px" controls>
        <source src="v1.mp4" type="video/mp4">
    </video>
    <video class="aka" width="300px" height="200px" controls>
        <source src="v4.mp4" type="video/mp4">
    </video>
    <video class="aka" width="300px" height="200px" controls>
        <source src="v2.mp4" type="video/mp4">
    </video>
    <video class="aka" width="300px" height="200px" controls>
        <source src="v3.mp4" type="video/mp4">
    </video>
</div>

<button onclick="topFunction()" id="myBtn" title="Go to top">Top</button>    


</body>

<script>

    mybutton = document.getElementById("myBtn");
    
    window.onscroll = function() {scrollFunction()};
    
    function scrollFunction() {
      if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {
        mybutton.style.display = "block";
      } else {
        mybutton.style.display = "none";
      }
    }
    

    function topFunction() {
      document.body.scrollTop = 0; 
      document.documentElement.scrollTop = 0; 
    }
    
    let modal = document.getElementsByClassName('modal')[0];
    let modalVideo = document.getElementsByClassName('modal-content')[0];
    let videos = document.getElementsByClassName('aka');
    let activeVideo;
    for (let i = 0; i < videos.length; i++) {
      videos[i].onclick = function(){
        activeVideo = videos[i];
        videos[i].play();
        modal.style.display = 'block';
        modalVideo.src = activeVideo.getElementsByTagName('source')[0].src;
        modalVideo.currentTime = activeVideo.currentTime;
        backToTopBtn.style.display = 'none';
      }
    }

    let span = document.getElementsByClassName('close')[0];

    span.onclick = function() { 
      modal.style.display = 'none';
      modalVideo.pause();
      activeVideo.currentTime = modalVideo.currentTime;
      scrollFunction();
    }

    modal.addEventListener('click', (e) => {
      if (e.target !== modalVideo) {
        modal.style.display = 'none';
        modalVideo.pause();
        activeVideo.currentTime = modalVideo.currentTime;
        scrollFunction();
      }
    });

    </script>

</html>
